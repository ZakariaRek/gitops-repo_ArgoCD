apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: redis-service
  namespace: data

resources:
- redis-deployment.yaml
- redis-service.yaml
- redis-configmap.yaml
- redis-pvc.yaml

labels:
- pairs:
    app: redis-service
    component: data
    version: "7.2"

images:
- name: redis
  newTag: "7.2-alpine"

namespace: data

configMapGenerator:
- name: redis-env-config
  literals:
  - REDIS_PORT=6379
  - REDIS_DATABASES=16