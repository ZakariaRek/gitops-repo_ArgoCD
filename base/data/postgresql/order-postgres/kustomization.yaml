apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: order-postgres
  namespace: data

resources:    # Optional: Remove if using dynamic provisioning
  - Configmap.yaml
  - StatefulSet.yaml  # Changed from Deployment
  - Secret.yaml
  - Service.yaml


labels:
  - pairs:
      app: order-postgres
      component: data
      service: order-service
      tier: database
      version: "16-alpine"

images:
  - name: postgres
    newTag: 16-alpine

namespace: data

replicas:
  - name: order-postgres
    count: 1

