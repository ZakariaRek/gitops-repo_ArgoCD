apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: product-postgres
  namespace: data

resources:
  - Service.yaml
  - Configmap.yaml
  - Secret.yaml
  - StatefulSet.yaml

labels:
  - pairs:
      app: product-postgres
      component: data
      service: product-service
      tier: database
      version: "16-alpine"

images:
  - name: postgres
    newTag: 16-alpine

namespace: data

replicas:
  - name: product-postgres
    count: 1